<!DOCTYPE html>
<head>
    <link rel="shortcut icon" type="image/png" href="../../Icons/blackQuestion.png">
    <meta name="viewport" content="width=320, initial-scale=1, maximum-scale=1, user-scalable=0"/> 
    <title id = 'title'>ANIMAL</title>
    <style type="text/css">
        Body{
            border-color:white;
            background-color:green;
            font-family:Courrier New;
            vertical-align:bottom;

            }
    </style>
    </head>

<body> 
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">

<html>
<head>
    <title></title>
</head>

<body>
    <div id='animal' style="position:fixed;text-align: center; top:0%;left:0%; width:100%;height:100%;">
        <div id='game' style="position:absolute;font-size:10vh;right:40%; top:0%;width:60%;height:100%;background-color:transparent;vertical-align: bottom;z-index:0">
            <div id='sheild' style="position:absolute;display:block;font-size:10vh;left:0%;top:0%;width:100%;height:100%;background-color:red;opacity:0.1;z-index:1000;">
            </div>
        <img src="../../icons/rocksA.png" style="position:absolute;left:0%;border:none; bottom:0%; height:5%;width:100%;z-index:200">
        <img src="../../icons/grass.png" style="position:absolute;left:0%;border:none; bottom:0%; height:40%;width:100%;z-index:180">
        <img src="../../icons/hillside.png" style="position:absolute;left:0%;border:none; bottom:30%; height:34%;width:100%;z-index:160">
        <img src="../../icons/rocksc.png" style="position:absolute;left:0%;border:none; bottom:54%; height:35%;width:100%;z-index:140">      
        <img src="../../icons/trees.jpg" style="position:absolute;left:0%;border:none; bottom:75%; width:100%;z-index:120">

        <div id=aniPlate style="position:absolute;bottom:0%;width:100%;height:100%;background-color:transparent;">
            <img id='0'   src="../../icons/transA.png" style="position:absolute;border:none;left:7%; bottom:0%;height:25%;z-index:190">
            <img id='1'   src="../../icons/transA.png" style="position:absolute;border:none;left:32%; bottom:0%;height:25%;z-index:190">
            <img id='2'   src="../../icons/transA.png" style="position:absolute;border:none;right:30%; bottom:0%;height:25%;z-index:190">    
            <img id='3'   src="../../icons/transA.png" style="position:absolute;border:none;right:9%; bottom:0%;height:25%;z-index:190">  

            <img id='4'  src="../../icons/transA.png" style="position:absolute;border:none;left:9%; bottom:35%;height:20%;z-index:170">
            <img id='5'  src="../../icons/transA.png" style="position:absolute;border:none;left:34%; bottom:33%;height:20%;z-index:170">
            <img id='6'  src="../../icons/transA.png" style="position:absolute;border:none;right:34%; bottom:33%;height:20%;z-index:170">    
            <img id='7'  src="../../icons/transA.png" style="position:absolute;border:none;right:9%; bottom:33%;height:20%;z-index:170">    

            <img id='8'  src="../../icons/transA.png" style="position:absolute;border:none;left:10%; bottom:60%;height:15%;z-index:150">    
            <img id='9'  src="../../icons/transA.png" style="position:absolute;border:none;left:35%; bottom:60%;height:15%;z-index:150">
            <img id='10' src="../../icons/transA.png" style="position:absolute;border:none;right:35%; bottom:60%;height:15%;z-index:150">    
            <img id='11' src="../../icons/transA.png" style="position:absolute;border:none;right:10%; bottom:60%;height:15%;z-index:150">    

            <img id='12'  src="../../icons/transA.png" style="position:absolute;border:none;left:11%; bottom:84%;height:10%;z-index:130">
            <img id='13'  src="../../icons/transA.png" style="position:absolute;border:none;left:36%; bottom:84%;height:10%;z-index:130">
            <img id='14'  src="../../icons/transA.png" style="position:absolute;border:none;right:36%; bottom:84%;height:10%;z-index:130">
            <img id='15'  src="../../icons/transA.png" style="position:absolute;border:none;right:11%; bottom:87%;height:10%;z-index:130">    
        </div>
    
        <div id=tgtPlate style="position:absolute;opacity:0.3;bottom:0%;width:100%;height:100%;background-color:transparent;border-color:white;border:none;z-index:300;">
            <div   onclick="check(0)" src="../../icons/transA.png" style="position:absolute;left:0%; bottom:0%;width:25%;height:29%;border:inherit;border-color:white;"></div>
            <div   onclick="check(1)" src="../../icons/transA.png" style="position:absolute;left:25%; bottom:0%;width:24.5%;height:29%;border:inherit;border-color:white;"></div>
            <div   onclick="check(2)" src="../../icons/transA.png" style="position:absolute;right:25%; bottom:0%;width:24.5%;height:29%;border:inherit;border-color:white;"></div>    
            <div   onclick="check(3)" src="../../icons/transA.png" style="position:absolute;right:0%; bottom:0%;width:25%;height:29%;border:inherit;border-color:white;"></div>  

            <div id='4'  onclick="check(4)" src="../../icons/transA.png" style="position:absolute;left:0%; bottom:29%;width:25%;height:28%;border:inherit;border-color:white;"></div>
            <div id='5'  onclick="check(5)" src="../../icons/transA.png" style="position:absolute;left:25%; bottom:29%;width:24.5%;height:28%;border:inherit;border-color:white;"></div>
            <div id='6'  onclick="check(6)" src="../../icons/transA.png" style="position:absolute;right:25%; bottom:29%;width:24.5%;height:28%;border:inherit;border-color:white;"></div>    
            <div id='7'  onclick="check(7)" src="../../icons/transA.png" style="position:absolute;right:0%; bottom:29%;width:25%;height:28%;border:inherit;border-color:white;"></div>    

            <div id='8'  onclick="check(8)" src="../../icons/transA.png" style="position:absolute;left:0%; bottom:57%;width:25%;height:22%;border:inherit;border-color:white;"></div>    
            <div id='9'  onclick="check(9)" src="../../icons/transA.png" style="position:absolute;left:25%; bottom:57%;width:24.5%;height:22%;border:inherit;border-color:white;"></div>
            <div id='10' onclick="check(10)" src="../../icons/transA.png" style="position:absolute;right:25%; bottom:57%;width:24.5%;height:22%;border:inherit;border-color:white;"></div>    
            <div id='11' onclick="check(11)" src="../../icons/transA.png" style="position:absolute;right:0%; bottom:57%;width:25%;height:22%;border:inherit;border-color:white;"></div>    

            <div id='12'  onclick="check(12)" src="../../icons/transA.png" style="position:absolute;left:0%; bottom:79%;width:25%;height:21%;border:inherit;border-color:white;"></div>
            <div id='13'  onclick="check(13)" src="../../icons/transA.png" style="position:absolute;left:25%; bottom:79%;width:24.5%;height:21%;border:inherit;border-color:white;"></div>
            <div id='14'  onclick="check(14)" src="../../icons/transA.png" style="position:absolute;right:25%; bottom:79%;width:24.5%;height:21%;border:inherit;border-color:white;"></div>
            <div id='15'  onclick="check(15)" src="../../icons/transA.png" style="position:absolute;right:0%; bottom:79%;width:25%;height:21%;border:inherit;border-color:white;"></div>    
            <!--        -->
        </div>
    </div>

    <div id='CTRL' style="position:absolute;left:60%;top:0%; width:40%;height:100%;background-color:grey;z-index:-100;">
    <div id='msg'style="width:100%;font-size:4vh">ANIMAL</div>
        <select onchange="game(this.value)" style="width:50%;font-size:3vh">
            <option value ='A' selected>Find All the Animals</option>
            <option value ='B'>Find One animal...</option>
            <option value ='C'>Match Animal Pairs</option>
            </select>
        <button style="position:absolute;top:20%;left:10%;height:10%;width:10%" onclick="fullField()">FULL FIELD</button><br>
        <button style="position:absolute;top:20%;left:20%;height:10%;width:10%" onclick="smallField()">SMALL FIELD</button><br>
        <button style="position:absolute;top:20%;left:30%;height:10%;width:10%" onclick="miniField()">Mini FIELD</button><br>
        <button style="position:absolute;top:20%;left:40%;height:10%;width:10%" onclick="microField()">micro FIELD</button><br>
        <button style="position:absolute;top:20%;left:50%;height:10%;width:10%" onclick="score()" id='score' >SCORE</button><br>
        <button style="position:absolute;top:20%;left:60%;height:10%;width:10%" onclick="grid()" >GRID</button><br>
        <button style="position:absolute;font-size:5vh;top:40%;left:10%;height:30%;width:20%" onclick="play()">PLAY</button><br>
        
        <img id='huntFor'src="../../icons/transB.png" style="position:absolute;display:none;top:40%;left:30%;height:30%;width:20%">
        
        
        <button onclick="if(NUM<=16){NUM=NUM+1};level()" style="position:absolute;background-color:yellow;top:40%;left:50%;height:10%;width:20%;font-size:4vh">^</button><br>
        <button id='level' style="position:absolute;top:50%;left:50%;height:10%;width:20%;font-size:4vh">3<br>Animals</button><br>
        <button onclick="if(NUM>1){NUM=NUM-1};level()" style="position:absolute;background-color:yellow;top:60%;left:50%;height:10%;width:20%;font-size:4vh">v</button><br>
        <button onclick="delay(200)" style="position:absolute;background-color:yellow;background-color:yellow;top:40%;left:70%;height:10%;width:20%;font-size:4vh">^</button>
        <button id='delay' style="position:absolute;top:50%;left:70%;height:10%;width:20%;font-size:4vh">1.0</button>
        <button onclick="delay(-200)" style="position:absolute;background-color:yellow;top:60%;left:70%;height:10%;width:20%;font-size:4vh">v</button>
        <button style="position:absolute;top:80%;left:10%;height:5%;width:80%;font-size:4vh" onclick="reset()">RESET</button><br>
        <button id='auto' onclick="auto()" style="position:absolute;top:85%;left:10%;height:5%;width:80%;font-size:4vh">AUTO ADVANCE IS ON</button><br>
    </div>
</body>
</html>


<script type="text/javascript">
var HUNTfor=1
var GAME='A';
var GRID=false;
var CUR = 1;
var NUM = 3;
var COR = 0;
var DELAY = 1000;
var TIMEOUTcrap
var AUTO = true
var WINS = 0
var GAMES = 0
var ARRkillers = ",Lion,Snake,Tiger,wolf,Bear,Leopard,elephant,Lion,snake,Tiger,wolf,Bear,Leopard,Lion,snake,Tiger,wolf,Bear,Leopard".split(',')

    function reset() {
        GAME='A'
        WINS = 0;
        GAMES = 0;
        CUR = 1;
        NUM = 3;
        COR=0
        DELAY = 1000;
        delay(0);
        level();
        clearGrid();
        dis('sheild', 'block')
        statusMsg("READY!");
    }

    function clearGrid() { //OK
        for (n = 0; n <= 15; n++) {
            document.getElementById(n).src = "../../icons/trans.png"
        }
    }

    function game(g){
        GAME=g;
        if (GAME=='A') {
            dis('huntFor','none')
            statusMsg('Looking for a ALL the Animals')
        }else if(GAME=='B'){
            statusMsg('Hunt for ONE animal')
            document.getElementById('huntFor').src = "../../icons/trans.png"
            dis('huntFor','block')    
        }else if(GAME=='C'){
            statusMsg('Match Animal Pairs')
            document.getElementById('huntFor').src = "../../icons/trans.png"
            dis('huntFor','block')
            DELAY=3000;
            NUM=16;
            level()
            document.getElementById('delay').innerHTML = parseInt(DELAY / 100, 10) / 10 +"<br>Seconds";
            document.getElementById('huntFor').src="../../icons/transA.png"
        }
    }
    
    function play() {
        document.getElementById('huntFor').src="../../icons/transA.png"
        dis('sheild', 'block')
        CUR = 1
        COR=0
        GAMES = GAMES + 1
        ARRdeck = ("").split(",")
        clearGrid()
        createDeck()
        shuffle(ARRdeck)

        TIMEOUTcrap = setTimeout(function() {
            showDeck(ARRdeck);
            TIMEOUTcrap = setTimeout(function() {
                hideDeck(ARRdeck);
                if (GAME=='B') {
                    HUNTfor=Math.floor(Math.random() * NUM+1);
                    document.getElementById('huntFor').src="../../icons/"+ARRkillers[HUNTfor]+".png"
                    }
                if (GAME=='C') {
                    DELAY=3000;
                    NUM=16;
                    }
            }, DELAY);
            dis('sheild', 'none')
        }, 400);
    }

    function createDeck() { //OK
        var str = ""
        for (n = 1; n <= 17; n++) {
            if (n <= NUM) {
                str = str + n + ","
            } else {
                str = str + ","
            }
        }
        ARRdeck = str.split(",")
        statusMsg('New Game! ' + NUM + ' Animals!');
    }

    function shuffle(arr) { //taken from internet I didnt analize it...
        let counter = arr.length;
        // While there are elements in the array
        while (counter > 0) {
            // Pick a random index
            let index = Math.floor(Math.random() * counter);
            // Decrease counter by 1
            counter--;
            // And swap the last element with it
            let temp = arr[counter];
            arr[counter] = arr[index];
            arr[index] = temp;
        }
        return arr;
    }

    function showDeck(arr) {
        //alert(ARRdeck)
        for (n = 0; n <= 15; n++) {
            if (ARRdeck[n] >= 1) {
                document.getElementById(n).src = "../../icons/" + ARRkillers[ARRdeck[n]] + ".png";
            } else {
                document.getElementById(n).src = "../../icons/trans.png"
            }
        }
    }

    
    
    
    
    
    
    
    function hideDeck(arr) {
        CUR = 1
        for (n = 0; n <= 15; n++) {
            document.getElementById(n).src = src = "../../icons/transA.png"
        }
    }

    function check(pushed) {
        var st;
        if (GAME=='A') {    
            if (ARRdeck[pushed] >=1) {
                st=document.getElementById(pushed).src;
                st=st.substring(st.length - 10, st.length)
                if (st=='transA.png'){//check its not already been pushed
                    COR=COR+1
                    statusMsg('You\'ve got '+COR+' animal(s)  out of '+NUM+'!')
                    document.getElementById(pushed).src = "../../icons/" + ARRkillers[ARRdeck[pushed]] + ".png";
                    if (COR==NUM) {
                        statusMsg("ROUND "+GAMES+ ". YOU WIN! "+COR+" of "+ NUM +"!")
                        dis('sheild', 'block')
                        WINS=WINS+1;
                        if (AUTO==true) {
                            NUM=NUM+1;
                        level();}
                    }
                }
            } else {
                showDeck()
                statusMsg("OOPS! ROUND "+GAMES+ ". YOU LOST! "+COR+" of "+ NUM +"!")
                document.getElementById(pushed).src = "../../icons/oops.png";
                dis('sheild', 'block')
            }
        }else if (GAME=='B') {
            showDeck()
            if (ARRdeck[pushed]==HUNTfor) {
                WINS=WINS+1
                statusMsg("WHOOPIE!")
                document.getElementById("huntFor").src = "../../icons/gold-medal.png";
                if (AUTO==true) {
                        NUM=NUM+1;
                    level();}
            }else{
                statusMsg("YOU MISSED!")
                document.getElementById("huntFor").src = "../../icons/oops.png";
            }
    }}
    
    
    function checkX(pushed) {
        if (ARRdeck[pushed] >=1) {
            COR=COR+1
            statusMsg('You\'ve got '+COR+' animal(s)  out of '+NUM+'!')
            document.getElementById(pushed).src = "../../icons/" + ARRkillers[ARRdeck[pushed]] + ".png";
            if (COR==NUM) {
                statusMsg("ROUND "+GAMES+ ". YOU WIN! "+COR+" of "+ NUM +"!")
                dis('sheild', 'block')
                WINS=WINS+1;
                if (AUTO==true) {
                    NUM=NUM+1;
                }
            }
        } else {
            showDeck()
            statusMsg("OOPS! ROUND "+GAMES+ ". YOU LOST! "+COR+" of "+ NUM +"!")
            document.getElementById(pushed).src = "../../icons/oops.png";
            dis('sheild', 'block')
        }
    }    
    
    

    function score() {
        var pct = 100 * (WINS / GAMES)
        pct = parseInt(pct, 10)
        statusMsg("SCORE: "+ WINS + " WINS in "+GAMES+" GAMES! (" + pct + "%)");
    }

    function fullField(fact) {
        document.getElementById('game').style.fontSize = "10vh";
        document.getElementById('game').style.width = "60%";
        document.getElementById('game').style.height = "100%";
    }

    function smallField(fact) {
        document.getElementById('game').style.fontSize = "8vh";
        document.getElementById('game').style.width = "40%";
        document.getElementById('game').style.height = "80%";
    }

    function miniField(fact) {
        document.getElementById('game').style.fontSize = "6vh";
        document.getElementById('game').style.width = "30%";
        document.getElementById('game').style.height = "65%";
    }

    function microField(fact) {
        document.getElementById('game').style.fontSize = "3vh";
        document.getElementById('game').style.width = "15%";
        document.getElementById('game').style.height = "32%";
    }

    function auto() {
        if (AUTO == true) {
            AUTO = false;
            document.getElementById('auto').innerHTML = "MANUAL ADVANCE";
        } else {
            AUTO = true;
            document.getElementById('auto').innerHTML = "AUTO ADVANCE";
        }
    }

    
function grid() {
        if (GRID==true){
            GRID=false
            document.getElementById('tgtPlate').style.border='none';
        }else{
            GRID=true
            document.getElementById('tgtPlate').style.borderColor='white';
            document.getElementById('tgtPlate').style.border='solid';
        }
    }
    
    
    function level() {
        document.getElementById('level').innerHTML = NUM +"<br>Animals";
    }

    function delay(delta) {
        if (DELAY+delta>400 & DELAY+delta<3200) {
            DELAY = parseInt(DELAY + delta, 10)
        }
        document.getElementById('delay').innerHTML = parseInt(DELAY / 100, 10) / 10 +"<br>Seconds";
    }

    function statusMsg(msg) { // COLOR SCHEME: light grey=normal;red=problem ;yellow-pause or inwork; green=Ready
        if (msg === null || msg === '' || msg === " ") {
            msg = "ERROR: No Status Message Passed";
        }
        document.getElementById("msg").innerHTML = msg;
    }

    function dis(id, disp) {
        if (disp === undefined) {
            if (document.getElementById(id).style.display == 'none') {
                document.getElementById(id).style.display = 'block';
            } else {
                document.getElementById(id).style.display = 'none';
            }
        } else {
            if (disp == 'none') {
                document.getElementById(id).style.display = 'none';
            } else {
                document.getElementById(id).style.display = 'block';
            }
        }
    }</script>
</body>
<html>
