<!DOCTYPE html>
<head>
    <link rel="shortcut icon" type="image/png" href="../../Icons/blackKaraoke.png">
    <title id = 'title'>Karaoke Joe</title>
    <style type="text/css">
        Body{font-size:5vh;
            color:black;
            font-family:Courrier New;
            font-weight: bold;
            text-align:center;
            vertical-align:middle;
            border-color: black;
            border-width:thin;
            background-color:white;
            padding:0px;
            margin:0px;
            overflow:hidden;}
        X1{color:red;}
        pre { display: inline}
        </style>    
    </head>
<body>
    <form action=false><input type="file" id="fileInput" style="display:none;"/></form>
    <a id="none" style="display:none;visibility:hidden"></a>   
    <a id="msg" title="Message Box" style= "position:fixed; text-align:center; vertical-align:middle; color:black; font-size: 2vw; height:6%; left:0px; top:0%; width:100vw; z-index:4501;overflow:hidden">Loading HTML...</a>
    <select id="sel" onchange="selectTune(this.value)" title="Select Song" style="position:fixed;font-size: 2vw; overflow:hidden;border-style:solid; border-color:black; border-width:thick; background-color:yellow; color:black; line-height:100%; text-align:left; font-weight:bold; top:7%; height:8%; left:5%; width:80%;"></select>
    <img id='singAlong' onclick="launchSingAlong()"src="../../Icons/blacklinks.png" style="position:fixed;top:7%; height:8%; right:10%;display:none">
    <img id='findSingAlong' onclick="searchSingAlong()"src="../../Icons/blackSearch.png" style="position:fixed;top:7%; height:8%; right:10%;display:none">
    <img id='go' onclick="launchUtube()"src="../../Icons/blackUtube.png" style="position:fixed;top:7%; height:8%; right:5%;">
    <div id='notes' style="position:fixed;overflow-y:scroll; overflow-x:hidden;font-size: 2vw; border-style:solid; line-height:8vw;border-color:black; border-width:thick; background-color:white; color:black; line-height:100%; text-align:left; font-weight:bold; top:20%; height:75%; left:5%; width:90%;">Notes</div> 

<SCRIPT type="text/javascript" SRC = "GlobalRoutes.js"></script>
<SCRIPT type="text/javascript">
    var ARR=("");
    var TITLE="???"
    var TYPE='';
    var UTID="";
    var KEY="?";
    var TEMPO="?";
    var HELP="???";
    var NOTES="No Notes";
    var LINKS="";

window.onload = function(){
    writeHelp();
    statusMsg('Loading Java Script.....')
    var str=""
    var arr=''.split(',');
    ARR=(fileDownload("../Utool/btLists/Karaoke.csv").split('\n'))
    ARR.splice(0,1,"Information about Karaoke Joe (Then select your track here...),,,,,,,"+HELP)//get rid of info line
    for(w=0;w<ARR.length;w++){
        str=str+ARR[w].split(',')[0]+",";}
    arr=str.split(',');
    document.getElementById('notes').innerHTML=HELP
    statusMsg('Building Selector...')
    selectorBuild('sel',arr,0)}

function writeHelp(){
    HELP="<x1>HOW TO USE THIS PAGE...</x1><div style='position:relative;left:5%;'>1) Select a tune from the yellow 'Select Box' above...<br>2) Use the Black and Red 'utube'icon to launch your track...</div><br>";
    HELP=HELP+"<x1>WHERE IT WORKS</x1><br><div style='position:relative;left:5%;'>Tested on Android 6 and Windows 10 using the Chrome Browser...No Guarantees...</div>"
    HELP=HELP+"<br><x1>RECOMENDATIONS</x1><div style='position:relative;left:5%;'>1)Use Windows as your Operating System (tabbed windows are much easier)<br>2)Use Chrome as you browser (because it has a useful extension)<br>3)Install an extension from the<a href=' https://chrome.google.com/webstore/category/extensions'> Chrome Store</a><div style='position:relative;left:5%;'>a)<a href=' https://chrome.google.com/webstore/detail/transpose-pitch-loop-for/ioimlbgefgadofblnajllknopjboejda'>Transpose - Pitch - Loop for videos</a> (Pro is only about $4.00)<br>...It lets you to control the Pitch and Tempo of your video and create loops<br></div></div>"
    HELP=HELP+"<br><x1>ADDING TRACKS</x1><div style='position:relative;left:5%;'>1)Go to uTube, find a Karaoke video and send me the Link...or<br>2)Send me a song title and I'll see if I can find a karaoke track...</div><br>"
    HELP=HELP+"<br><x1>QUALITY</x1><div style='position:relative;left:5%;'>I just auditioned 1 or 2 tracks for each song.<br>So...If there are better tracks on uTube let me know, its easy to fix</div><br><br>"
    HELP=HELP+"<center>Fred Kaparich<br>fkaparich@gmail.com</center>"}  

function selectTune(no){
    if (no==0){document.getElementById('notes').innerHTML=HELP;}    
    else{
        var arr=ARR[no].split(',');
        TITLE=arr[0];
        UTID=arr[1];
        KEY=arr[2];
        TYPE=arr[3];
        TEMPO=arr[4];
        NOTES=arr[7];
        LINKS=arr[8]
        if (LINKS.length>=10){
            document.getElementById('singAlong').style.display='block';
            document.getElementById('findSingAlong').style.display='none';}
        else{
            document.getElementById('findSingAlong').style.display='block';
            document.getElementById('singAlong').style.display='none';}
        document.getElementById('notes').innerHTML=NOTES
        if(no===0|no==='0'|no===undefined){
            statusMsg("What little Help we provide...");}
        else{
            statusMsg("<X1>"+TITLE +"</X1>..."+ TYPE + " in the key of " +KEY+ " @ "+TEMPO+"bpm")
            if (NOTES.length<3) {
                document.getElementById('notes').innerHTML="No Notes...";}}}}          

function selectorBuild(id,arr,sel){//probably going global
  if (sel===undefined|sel===null|sel==='') {sel=0;}
  var i=0;var str='';
  while (i<arr.length){
    str=str+"<option value="+i+">"+arr[i]+"</option>";
    i=i+1;}
  document.getElementById(id).innerHTML=str;
  document.getElementById(id).selectedIndex=sel;
  dis('singAlong','block');
  statusMsg('Karaoke Joe  Ready to go!');}

function launchUtube(){
   if (document.getElementById('sel').selectedIndex===0){alert("Pick a track before trying to open Utube!!!");}
   else{window.open('https://www.youtube.com/watch?v='+UTID,'Karaoke!');}}

function launchSingAlong(){
   if (document.getElementById('sel').selectedIndex===0){alert("Pick a track before trying to open Utube!!!");}
   else{window.open('https://www.youtube.com/watch?v='+LINKS,'SING A LONG!');}}

function searchSingAlong(){
   if (document.getElementById('sel').selectedIndex===0){alert("Pick a track before trying to open Utube!!!");}
   else{window.open("https://www.youtube.com/results?search_query=" +TITLE,'SING A LONG SEARCH!');}}   
</script></body></html>

